{"componentChunkName":"component---src-templates-blog-post-js","path":"/tools/git-tips/","result":{"data":{"site":{"siteMetadata":{"title":"Jere`s Blog","author":"jerexyz"}},"markdownRemark":{"id":"94eeeeff-594a-5e9c-9f07-feb78e04a6f4","excerpt":"配置常用操作别名 添加以下配置 设置默认的 Push Remote 在使用的时候，经常会碰到这种情况 配置推送到远端的默认分支就可解决 清理本地 git 分支 清理已合并的分支 清理所有本地分支,慎重使用  Git 如果不做设置，默认的 diff 是按行去做的，这种 diff…","html":"<ol>\n<li>\n<p>配置<code class=\"language-text\">git</code>常用操作别名</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> config --global --edit</code></pre></div>\n<p>添加以下配置</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>alias<span class=\"token punctuation\">]</span>\n  co <span class=\"token operator\">=</span> checkout\n  ci <span class=\"token operator\">=</span> commit\n  st <span class=\"token operator\">=</span> status\n  br <span class=\"token operator\">=</span> branch\n  hist <span class=\"token operator\">=</span> log --pretty<span class=\"token operator\">=</span>format:<span class=\"token punctuation\">\\</span>\"%h %ad <span class=\"token operator\">|</span> %s%d <span class=\"token punctuation\">[</span>%an<span class=\"token punctuation\">]</span><span class=\"token punctuation\">\\</span>\" --graph --date<span class=\"token operator\">=</span>short\n  <span class=\"token builtin class-name\">type</span> <span class=\"token operator\">=</span> cat-file -t\n  dump <span class=\"token operator\">=</span> cat-file -p\n  rb <span class=\"token operator\">=</span> rebase -i --autosquash\n  <span class=\"token function\">pr</span> <span class=\"token operator\">=</span> remote prune origin</code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">git</code>设置默认的 Push Remote</p>\n<p>在使用<code class=\"language-text\">git push</code>的时候，经常会碰到这种情况</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">fatal: The current branch newFeature has no upstream branch.\nTo push the current branch and <span class=\"token builtin class-name\">set</span> the remote as upstream, use\n\n    <span class=\"token function\">git</span> push --set-upstream origin newFeature</code></pre></div>\n<p>配置推送到远端的默认分支就可解决</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> config --global push.default current</code></pre></div>\n</li>\n<li>\n<p>清理本地 git 分支</p>\n<ul>\n<li>清理已合并的分支</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> branch -d <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">git</span> branch --merged<span class=\"token operator\">=</span>master <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -v master<span class=\"token variable\">)</span></span>\n<span class=\"token function\">git</span> fetch --prune</code></pre></div>\n<ul>\n<li>清理所有本地分支,慎重使用</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> branch <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">git</span> branch -d</code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">git diff</code></p>\n<p>Git 如果不做设置，默认的 diff 是按行去做的，这种 diff 的方式看起来并不那么的直观，特别是如果你是在做代码的微调，行 diff 不是那么容易让你掌握到改了东西。另外一种情况是，如果你改的是文档类的，比如 markdown，行 diff 就更不可读了,尤其是代码格式化之后。\n设置<code class=\"language-text\">word-diff</code> 之后就很直观了</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">diff</span> --word-diff</code></pre></div>\n<ul>\n<li>config Beyond Compare</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> config --global diff.tool bc3\n<span class=\"token function\">git</span> config --global merge.tool bc3\n<span class=\"token function\">git</span> config --global mergetool.bc3.trustExitCode <span class=\"token boolean\">true</span></code></pre></div>\n<ul>\n<li>dir-diff</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> difftool origin/master --dir-diff</code></pre></div>\n</li>\n<li>\n<p>清理.DS_Store</p>\n<p>Remove existing files from the repository:  </p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">find . -name .DS_Store -print0 | xargs -0 git rm -f --ignore-unmatch</code></pre></div>\n</li>\n<li>git checkout —theirs</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> ls-files --unmerged <span class=\"token operator\">|</span> perl -n -e<span class=\"token string\">'/<span class=\"token entity\" title=\"\\t\">\\t</span>(.*)/ &amp;&amp; print \"<span class=\"token variable\">$1</span><span class=\"token entity\" title=\"\\n\">\\n</span>\"'</span> <span class=\"token operator\">|</span> <span class=\"token function\">uniq</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> -r <span class=\"token function\">git</span> checkout --theirs --</code></pre></div>\n<blockquote>\n<p><a href=\"https://medium.com/@FlorentDestrema/a-simple-way-to-clean-up-your-git-project-branches-283b87478fbc\">A simple way to clean up your git project branches</a><br>\n<a href=\"https://gitee.com/progit/\">progit</a></p>\n</blockquote>","frontmatter":{"title":"git使用笔记","date":"January 11, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/tools/git-tips/","previous":{"fields":{"slug":"/tools/notes-for-the-fish-shell/"},"frontmatter":{"title":"Fish Shell 使用笔记"}},"next":{"fields":{"slug":"/ecmascript/new-es2018-features-every-javascript-developer-should-know/"},"frontmatter":{"title":"【翻译】每个人都应当知道的es2018当中的新特性"}}}}}